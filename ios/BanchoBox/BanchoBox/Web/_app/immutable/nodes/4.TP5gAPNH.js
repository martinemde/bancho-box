import{D as k}from"../chunks/CFYNNzyW.js";import"../chunks/DsnmJJEf.js";import"../chunks/BZzp2Sqo.js";import{p as wt,l as S,s as d,m as f,d as v,g as t,e as Bt,h as I,i as r,r as a,j as i,u as l,f as Vt,b as D,t as A,a as Rt,a3 as Ot,V as Qt,T as At,$ as Et}from"../chunks/CGMZXle5.js";import{a as c,e as qt}from"../chunks/Dal0ayJW.js";import{i as dt}from"../chunks/Csmq2bM6.js";import{s as Ct,a as Gt,t as $t,e as kt,i as It,r as Ht}from"../chunks/CIiS3sh5.js";import{i as Jt,T as Kt,b as Wt,L as Xt}from"../chunks/CT3irOJL.js";import{i as Tt}from"../chunks/DKmXlTrh.js";import{p as Yt,a as Zt,b as te}from"../chunks/BCPGliUN.js";import{A as Dt,S as ee}from"../chunks/DPB2ZqNU.js";import"../chunks/ByzeBPfV.js";import{P as ae}from"../chunks/MpCN7v-n.js";import{b as St}from"../chunks/DfpRMjpr.js";const re=!0;async function se(){return{dishes:k.dishes}}const Re=Object.freeze(Object.defineProperty({__proto__:null,load:se,prerender:re},Symbol.toStringTag,{value:"Module"}));var ne=I('<div class="w-full min-w-0"><span class="block min-w-0 truncate pr-10 text-xs opacity-80"> </span></div>'),ie=I('<tr class="border-b border-surface-200-800"><td class="p-2"> </td><td class="p-2 text-center tabular-nums"> </td><td class="p-2 text-center tabular-nums"> </td><td class="p-2 text-right tabular-nums"> </td><td class="p-2"> </td></tr>'),le=I('<div class="mt-2 overflow-x-auto"><table class="w-full table-auto text-sm"><thead class="bg-surface-200-800"><tr><th class="p-2 text-left">Ingredient</th><th class="p-2 text-center">Qty / Dish</th><th class="p-2 text-center">Upgrade</th><th class="p-2 text-right">Cost</th><th class="p-2 text-left">Type</th></tr></thead><tbody></tbody><tfoot><tr class="bg-surface-200-800 font-semibold"><td class="p-2 text-xs uppercase">Recipe Cost</td><td class="p-2 text-center tabular-nums"> </td><td class="p-2 text-center tabular-nums"> </td><td class="p-2 text-right tabular-nums"> </td><td></td></tr></tfoot></table></div>'),oe=I('<div class="w-full min-w-0"><span class="block min-w-0 truncate pr-10 text-xs opacity-80"> </span></div>'),ce=I('<tr class="border-b border-surface-200-800"><td class="p-2"> </td><td class="p-2 text-center"> </td><td class="p-2 text-right tabular-nums"> </td><td class="p-2 text-right tabular-nums"> </td></tr>'),de=I('<div class="mt-2 overflow-x-auto"><table class="w-full table-auto text-sm"><thead class="bg-surface-200-800"><tr><th class="p-2 text-left">Party</th><th class="p-2 text-center">Bonus</th><th class="p-2 text-right">Final Price</th><th class="p-2 text-right">Revenue (×Servings)</th></tr></thead><tbody></tbody></table></div>'),ve=I("<!> <!>",1),ue=I('<article class="divide-y divide-surface-200-800 card border border-surface-200-800 preset-filled-surface-100-900"><section class="p-4"><div class="flex items-start gap-4"><div class="inline-block"><div class="relative"><img class="h-full w-full overflow-hidden rounded-md bg-surface-300-700 object-contain" alt="" loading="lazy"/></div> <div class="mt-2"><!></div> <div class="text-center"><span class="text-xs opacity-70">Max Level</span> <span class="font-semibold"> </span></div> <div class="text-center"><span class="text-xs opacity-70">Taste</span> <span class="font-semibold"> </span></div></div> <div class="min-w-0 flex-1 space-y-4"><header><div class="truncate text-base font-semibold"> </div> <div class="mt-0.5 truncate text-xs opacity-70"> </div></header> <!></div></div></section> <section><!></section></article>');function pe(vt,st){wt(st,!1);const[E,ut]=Zt(),w=()=>te($t,"$trackedDishIds",E),g=f(),B=f(),P=f(),_=f();let e=Yt(st,"dish",8);function x(n){return n==null||Number.isNaN(n)?"—":new Intl.NumberFormat().format(Math.round(n))}S(()=>v(e()),()=>{d(g,Jt(e().name))}),S(()=>(v(e()),k),()=>{d(B,e().ingredients.map(n=>{const o=k.getIngredientById(n.ingredientId);return{name:o?.name??"Unknown",count:n.count,upgradeCount:n.upgradeCount??null,unitCost:n.unitCost??null,lineCost:n.lineCost,type:o?.type??o?.source??"—"}}))}),S(()=>t(B),()=>{d(P,t(B).map(n=>`${n.name} ×${n.count}`).join(", "))}),S(()=>(v(e()),k),()=>{d(_,(e().partyDishIds||[]).map(n=>k.getPartyDishById(n)).filter(Boolean).map(n=>({partyDish:n,party:k.getPartyById(n.partyId)})).sort((n,o)=>o.partyDish.profit-n.partyDish.profit))}),Bt(),Tt();var q=ue(),G=r(q),N=r(G),b=r(N);Ct(b,"width: 96px");var j=r(b);Ct(j,"width: 96px; height: 96px");var H=r(j);a(j);var F=i(j,2);Ct(F,"width: 96px");var J=r(F);{var nt=n=>{const o=Ot(()=>(w(),v(e()),l(()=>w().has(e().id))));Kt(n,{get checked(){return t(o)},$$events:{change:ot=>{ot.detail.checked?$t.track(e().id):$t.untrack(e().id)}}})};dt(J,n=>{v(St),v(e()),l(()=>St&&e()?.id!=null)&&n(nt)})}a(F);var R=i(F,2),U=i(r(R),2),K=r(U,!0);a(U),a(R);var it=i(R,2),lt=i(r(it),2),pt=r(lt,!0);a(lt),a(it),a(b);var W=i(b,2),z=r(W),X=r(z),ft=r(X,!0);a(X);var s=i(X,2),u=r(s,!0);a(s),a(z);var y=i(z,2);ae(y,{get price(){return v(e()),l(()=>e().final_price)},get servings(){return v(e()),l(()=>e().servings)},get totalCost(){return v(e()),l(()=>e().recipeCost)}}),a(W),a(N),a(G);var V=i(G,2),Y=r(V);Dt(Y,{collapsible:!0,defaultValue:[],children:(n,o)=>{var ot=ve(),ht=Vt(ot);{const Z=tt=>{var C=ne(),h=r(C),$=r(h,!0);a(h),a(C),A(()=>c($,t(P))),D(tt,C)},mt=tt=>{var C=le(),h=r(C),$=i(r(h));kt($,5,()=>t(B),It,(L,p)=>{var Q=ie(),at=r(Q),gt=r(at,!0);a(at);var rt=i(at),Nt=r(rt,!0);a(rt);var xt=i(rt),jt=r(xt,!0);a(xt);var yt=i(xt),Ft=r(yt,!0);a(yt);var Pt=i(yt),Ut=r(Pt,!0);a(Pt),a(Q),A(zt=>{c(gt,(t(p),l(()=>t(p).name))),c(Nt,(t(p),l(()=>t(p).count))),c(jt,(t(p),l(()=>t(p).upgradeCount??"—"))),c(Ft,zt),c(Ut,(t(p),l(()=>t(p).type)))},[()=>(t(p),l(()=>x(t(p).unitCost)))]),D(L,Q)}),a($);var T=i($),ct=r(T),m=i(r(ct)),et=r(m,!0);a(m);var M=i(m),_t=r(M,!0);a(M);var O=i(M),bt=r(O,!0);a(O),Qt(),a(ct),a(T),a(h),a(C),A((L,p)=>{c(et,(v(e()),l(()=>e().ingredientCount))),c(_t,L),c(bt,p)},[()=>(v(e()),l(()=>x(e().upgradeCost))),()=>(v(e()),l(()=>x(e().recipeCost)))]),D(tt,C)};Dt.Item(ht,{value:"recipe",control:Z,panel:mt,$$slots:{control:!0,panel:!0}})}var Mt=i(ht,2);{var Lt=Z=>{{const mt=C=>{var h=oe(),$=r(h),T=r($);a($),a(h),A(()=>c(T,`Parties (${t(_),l(()=>t(_).length)??""})`)),D(C,h)},tt=C=>{var h=de(),$=r(h),T=i(r($));kt(T,5,()=>t(_),It,(ct,m)=>{var et=ce(),M=r(et),_t=r(M,!0);a(M);var O=i(M),bt=r(O,!0);a(O);var L=i(O),p=r(L,!0);a(L);var Q=i(L),at=r(Q,!0);a(Q),a(et),A((gt,rt)=>{c(_t,(t(m),l(()=>t(m).party?.name??"—"))),c(bt,(t(m),l(()=>t(m).party?`${t(m).party.bonus}×`:"—"))),c(p,gt),c(at,rt)},[()=>(t(m),l(()=>x(t(m).partyDish.partyPrice))),()=>(t(m),l(()=>x(t(m).partyDish.partyRevenue)))]),D(ct,et)}),a(T),a($),a(h),D(C,h)};Dt.Item(Z,{value:"parties",control:mt,panel:tt,$$slots:{control:!0,panel:!0}})}};dt(Mt,Z=>{v(e()),l(()=>e().partyDishIds&&e().partyDishIds.length>0)&&Z(Lt)})}D(n,ot)},$$slots:{default:!0}}),a(V),a(q),A(()=>{Gt(H,"src",t(g)),c(K,(v(e()),l(()=>e().final_level))),c(pt,(v(e()),l(()=>e().final_taste))),c(ft,(v(e()),l(()=>e().name))),c(u,(v(e()),l(()=>e().unlock_condition||"—")))}),D(vt,q),Rt(),ut()}var fe=I('<meta name="description" content="Complete dish collection from Dave the Diver with comprehensive profit analysis"/>'),he=I('<button class="clear-btn svelte-nf2ltw" aria-label="Clear search">×</button>'),me=I('<div class="container svelte-nf2ltw"><section class="dishes"><header class="mb-6 text-center md:mb-10"><h1 class="m-0 h1">Dish Recipes</h1></header> <div class="controls p-2 svelte-nf2ltw"><div class="search-wrapper svelte-nf2ltw"><input type="search" class="search-input svelte-nf2ltw" placeholder="Search dishes by name, ingredient, DLC, unlock…"/> <!></div> <!></div> <div class="card-list svelte-nf2ltw"><!> <!></div></section></div>');function Te(vt,st){wt(st,!1);const E=f(),ut=f(),w=f(),g=f(),B=f();let P=f("baseProfitPerServing"),_=f("desc"),e=f("");function x(s){return(s??"").toString().toLowerCase()}function q(s,u){if(!u)return!0;const y=x(u);if(x(s.name).includes(y)||x(s.dlc).includes(y)||x(s.unlock_condition).includes(y))return!0;for(const V of s.ingredients||[]){const Y=k.getIngredientById(V.ingredientId);if(x(Y?.name).includes(y))return!0}return!1}function G(s,u,y){return[...s].sort((V,Y)=>{let n,o;return n=V[u],o=Y[u],n==null&&o==null?0:n==null?y==="asc"?-1:1:o==null?y==="asc"?1:-1:typeof n=="string"&&typeof o=="string"?y==="asc"?n.localeCompare(o):o.localeCompare(n):y==="asc"?n<o?-1:n>o?1:0:o<n?-1:o>n?1:0})}let N=20,b=f(N);function j(){d(b,Math.min(t(b)+N,t(g).length))}let H=f("");const F=[{value:"name",label:"Recipe"},{value:"dlc",label:"DLC"},{value:"final_taste",label:"Final Taste"},{value:"initial_price",label:"Initial Price"},{value:"final_price",label:"Final Price"},{value:"servings",label:"Servings"},{value:"baseRevenue",label:"Revenue"},{value:"upgradeCost",label:"Upgrade Cost"},{value:"upgradeBreakEven",label:"Upgrade Break Even"},{value:"recipeCost",label:"Recipe Cost"},{value:"baseProfit",label:"Profit"},{value:"baseProfitPerServing",label:"Profit / Serving"},{value:"ingredientCount",label:"Ingredients"}];S(()=>k,()=>{d(E,k.getDishesSortedByProfit())}),S(()=>k,()=>{d(ut,k.getTotalDishes())}),S(()=>(t(E),t(P),t(_)),()=>{d(w,G(t(E),t(P),t(_)))}),S(()=>(t(e),t(w)),()=>{d(g,t(e)&&t(e).trim().length>0?t(w).filter(s=>q(s,t(e))):t(w))}),S(()=>(t(e),t(P),t(_),t(H),t(g)),()=>{const s=`${t(e)}|${t(P)}|${t(_)}`;s!==t(H)&&(d(b,Math.min(N,t(g).length)),d(H,s))}),S(()=>(t(g),t(b)),()=>{d(B,t(g).slice(0,t(b)))}),Bt(),Tt();var J=me();At(s=>{var u=fe();Et.title="Dishes - Bancho Box",D(s,u)});var nt=r(J),R=i(r(nt),2),U=r(R),K=r(U);Ht(K);var it=i(K,2);{var lt=s=>{var u=he();qt("click",u,()=>{d(e,"")}),D(s,u)};dt(it,s=>{t(e)&&s(lt)})}a(U);var pt=i(U,2);ee(pt,{get options(){return F},get column(){return t(P)},set column(s){d(P,s)},get direction(){return t(_)},set direction(s){d(_,s)},$$events:{change:s=>{d(P,s.detail.column),d(_,s.detail.direction)}},$$legacy:!0}),a(R);var W=i(R,2),z=r(W);kt(z,1,()=>t(B),It,(s,u)=>{pe(s,{get dish(){return t(u)}})});var X=i(z,2);{var ft=s=>{Xt(s,{rootMargin:"1200px",$$events:{visible:j}})};dt(X,s=>{t(b),t(g),l(()=>t(b)<t(g).length)&&s(ft)})}a(W),a(nt),a(J),Wt(K,()=>t(e),s=>d(e,s)),D(vt,J),Rt()}export{Te as component,Re as universal};
